# Yii2 - IdLabelValidator 

Валидатор удобно применять к тем аттрибутам, в которые нужно присваивать значения из определённого набора констант,
для которых соответствуют "человекопонятные" описания, приходящие от пользователя, парсера и т.д.

## Установка 

С помощью композера:
```shell
composer require "ruskush/id-label-validator"
```
## Описание 

Этот валидатор проверяет, что значение указанного атрибута присутствует в массиве, описанном в свойстве targetArray.
 Если значение атрибута является ключём элемента массива targetArray - то значение атрибута остаётся без изменения.
 Если значение атрибута является значением элемента массива targetArray - то в значение атрибута помещается ключ
 соответствующего элемента массива targetArray. *
  - targetArray: массив, в котором ищутся допустимые значения атрибута
  - allowArray: допустимо ли в атрибут передавать массив значений. По умолчанию - false. Если свойство установить
    в true и тип входящих данных - массив, тогда каждый его элемент должен существовать в массиве targetArray.
    

### Примеры использования валидатора:
 ```php
 // Значение type должно быть равным одному из значений: 'id1', 'label1', 'id2', 'label2'.
 // Если значение атрибута type будет равным 'id1' или 'id2', то оно останется неизменным.
 // Если значение атрибута type будет равным 'label1' или 'label2' - то в атрибут type присвоится 'id1' или 'id2'
    //rules()
    return [
        [['type'], ruskush\validators\IdLabelValidator::class, 'targetArray' => ['id1' => 'label1', 'id2' => 'label2']]
    ];
 ```

```php
 // Если в атрибут kind передать массив ['id1', 'label2'],то валидатор поменяет его на ['id1', 'id2'].
 // Если хоть одно из значений массива в атрибуте kind не удасться найти в массиве targetArray - валидация
 // не будет пройдена.
    //rules()
    return [
        [['kind'], ruskush\validators\IdLabelValidator::class, 'targetArray' => ['id1' => 'label1', 'id2' => 'label2'], 'allowArray' => true]
    ];
 ```